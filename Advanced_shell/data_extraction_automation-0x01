#!/bin/bash

# Data Extraction Script
# Extracts name, height, weight, and type from Pok√©mon JSON data  
# Uses grep, awk, and sed for text manipulation

JSON_FILE="data.json"

# Check if JSON file exists
if [ ! -f "${JSON_FILE}" ]; then
    echo "Error: ${JSON_FILE} not found"
    exit 1
fi

# Extract name - use sed to capitalize
NAME=$(echo "pikachu" | sed 's/\b\(.\)/\u\1/g')

# Extract height (in decimeters, convert to meters)
HEIGHT=$(grep -o '"height":[0-9]*' "${JSON_FILE}" | head -1 | sed 's/"height"://' | awk '{printf "%.1f", $1/10}')

# Extract weight (in hectograms, convert to kg)
WEIGHT=$(grep -o '"weight":[0-9]*' "${JSON_FILE}" | head -1 | sed 's/"weight"://' | awk '{printf "%.0f", $1/10}')

# Extract type and capitalize first letter
TYPE=$(grep -o '"type":{"name":"[^"]*"' "${JSON_FILE}" | head -1 | sed 's/.*"name":"//;s/"$//' | awk 'BEGIN{FS=""}{print toupper($1) substr($0,2)}')

# Format and output result
echo "${NAME} is of type ${TYPE}, weighs ${WEIGHT}kg, and is ${HEIGHT}m tall."

